/*!
 * GEClient.WelcomeManager v1.0.3
 * www.global-e.com
 *
 * Copyright (c) Global-E 
 *
 * GEClient.WelcomeManager extends the empty object defined in the static GEClient class GEClient.WelcomeManager
 * exposes all the functionality needed in order to show a skinable, localized welcome popup, to the merchant customers
 *
 * Authors        Eden Zaharoni
 */
GlobalE.WelcomeManager.Base.MerchantID=1529;GlobalE.WelcomeManager.Base.MobileDetectionEnabled=!0;GlobalE.WelcomeManager.WelcomeContent='<div class="gePopupsContainer ltr en-US"><div class="CustomWelcomePopup"><div class="glDefaultPopupContainer"><div class="closeButton" role="button"><span class="glClose" data-action="Close" onclick="GlobalE.WelcomeManager.CloseWelcome(event);" title="Close" aria-lable="close button"><\/span><\/div><div class="glPopupContent"><div class="gleHeader"><div class="glLogo"><\/div><div class="glTitle" data-key="NowShipping">We ship to United States<\/div><\/div><div class="texts"><div class="glMainContent desktop" data-key="Content"><h2 class="gleSubHeader">Welcome! You can easily:<\/h2><br><ul><br><li>Enjoy great shipping rates<\/li><br><li>Shop in your local currency<\/li><br><li>Pay safely with local payment options<\/li><br><\/ul><\/div><div class="glMainContent mobile" data-key="customResource" data-key-data="GemLite.welcome.Content.mobile">You can easily shop in your local currency and enjoy great shipping rates.<\/div><\/div><div class="glControls"><input type="button" class="backToShop glDefaultBtn" data-key="continueShop" data-key-type="value" data-action="Close" title="Continue to shop" value="Continue to shop" onclick="GlobalE.WelcomeManager.CloseWelcome(event);"><\/div><\/div><\/div><\/div><\/div>';GlobalE.WelcomeManager.WelcomeCSS='.globale_overlay{background-color:#888;opacity:0;filter:alpha(opacity=0);position:fixed;top:0;left:0;width:100%;height:100%;z-index:1000001}.globale_popup_wrapper{z-index:100001100;position:fixed;top:0;right:0;left:0;bottom:0}#globale_popup{position:absolute;top:50%;left:50%;z-index:1000000000;font-family:Arial;text-align:left}#globale_csc_popup{position:absolute;top:50%;left:50%;text-align:left;z-index:1000001;font-family:Arial;background-color:#fff;visibility:hidden;display:block}.globale_noShadow{box-shadow:none!important}.gePopupsContainer .CustomSwitcherPopup .dropDownRow .dropdown{position:relative}#ge_currencyrow[data-show=\'false\']{display:none}#ge_currencyrow[data-show=\'true\']{display:block}:root{--gle-font-family:BeoSupreme,"Lexend Deca",Arial,Helvetica,sans-serif;--gle-black:hsl(30,4%,9%);--gle-primary-yellow:hsl(39,100%,67%);--gle-alternative-color:hsl(51,70%,96%);--gle-grey:hsl(0,0%,98%);--gle-border:2px solid var(--gle-black);--gle-alt-border:2px solid hsl(30,13%,91%);--gle-transition:all 400ms cubic-bezier(.165,.84,.44,1)0s}#globale_popup,#globale_csc_popup{position:absolute;top:50%!important;left:50%!important;z-index:1000000000;font-family:Arial;text-align:left;transform:translate(-50%,-50%)!important;margin:0!important}.CustomWelcomePopup,.CustomSwitcherPopup{background:var(--gle-alternative-color);padding:80px 64px;width:clamp(200px,90dvw,780px)}.glClose{width:22px;height:23px;right:9px;top:9px;background:url("https://s3.global-e.com/merchantscontent/general/crossthin.png"),no-repeat;background-size:contain;position:absolute;cursor:pointer}.glLogo{background:url("https://s3.global-e.com/merchantscontent/Bang%26Olufsen/Attachment-01-Logo.png"),no-repeat;background-size:cover;height:27px;width:26px;margin:0 auto;margin-bottom:24px}.glTitle{text-transform:uppercase;font-size:16px;text-align:center;font-weight:500;letter-spacing:2px;color:var(--gle-black);font-family:var(--gle-font-family)}.gleSubHeader{font-size:24px;line-height:36px;font-weight:400;letter-spacing:.2px;text-align:center}.gleheader{display:flex}.glMainContent{font-size:16px;color:var(--gle-black);margin:24px 0;font-family:var(--gle-font-family);text-align:center}.glMainContent br{display:none}.glMainContent ul{line-height:26px;list-style-position:inside;padding-inline-start:unset!important;margin-block-start:8px!important}input.backToShop.glDefaultBtn{min-width:180px;max-width:70vw;height:40px;margin:0;background:var(--gle-primary-yellow);color:var(--gle-black);border:2px solid transparent;border-radius:40px;font-family:var(--gle-font-family);font-size:16px;font-weight:500;cursor:pointer;transition:var(--gle-transition)}input.backToShop.glDefaultBtn:hover{background:var(--gle-alternative-color);border:var(--gle-alt-border)}.glMainContent ul li::marker{font-size:20px}.glControls{width:100%;text-align:center;display:flex;justify-content:center;align-items:center}.glMainContent.mobile{display:none}span.marked-text2{line-height:26px}@media screen and (max-width:450px){.glMainContent.mobile{display:block}.glMainContent.desktop{display:none}.glLogo{flex-basis:26px;flex-grow:0;flex-shrink:0}}';GlobalE.WelcomeManager.WidgetsCSS="";GlobalE.SwitcherRawData="";GlobalE.WelcomeManager.IsHideForCountry=!0;GlobalE.WelcomeManager.UpdateWelcomeScript="{0}Merchant/UpdateWelcome?merchantid={1}&country={2}&culture={3}&currency={4}";GlobalE.WelcomeManager.PopupWrapperID="globalePopupWrapper";GlobalE.WelcomeManager.OnBeforeLoadScript=function(){return!1};var overlay=null;GlobalE.WelcomeManager.CreateOverlay=function(n){var i=this,t=document.createElement("div");t.className="globale_overlay fadeIn";t.setAttribute("id","globale_overlay");document.getElementsByTagName("body")[0].appendChild(t);this.Base.FadeFX?this.Base.Fade("globale_overlay",0,this.Base.PopupOpacity,500,n):this.Base.SetOpacity("globale_overlay",this.Base.PopupOpacity);overlay=t;t.onclick=function(){i.CloseWelcome(null,!1,!0,{button:"Overlay"})}};GlobalE.WelcomeManager.CloseOverlay=function(n){var t=document.getElementById("globale_overlay");this.Base.IsUndefined(t)||t==null||(this.Base.FadeFX?this.Base.Fade("globale_overlay",this.Base.PopupOpacity,0,500,function(){document.getElementsByTagName("body")[0].removeChild(document.getElementById("globale_overlay"));n&&n()}):(document.getElementsByTagName("body")[0].removeChild(document.getElementById("globale_overlay")),n&&n()))};GlobalE.WelcomeManager.CloseModalPopup=function(){document.getElementsByTagName("body")[0].removeChild(this.GetModalPopupWrapper())};GlobalE.WelcomeManager.GetModalPopup=function(){return document.getElementById("globale_popup")};GlobalE.WelcomeManager.GetModalPopupWrapper=function(){return document.getElementById(this.PopupWrapperID)};GlobalE.WelcomeManager.CreateModalPopup=function(n){var t=this;this.Base.ShowPopupOverlay&&this.CreateOverlay();setTimeout(function(){var i=document.createElement("div"),u=t.Base.IsTabletMode(),r;i.className=t.Base.IsMobileMode()?"gle_mobile":u?"gle_mobile gle_tablet":"gle_desktop";i.setAttribute("id","globale_popup");i.setAttribute("tabindex","-1");i.innerHTML=n;r=document.createElement("div");r.className="globale_popup_wrapper";r.setAttribute("id",t.PopupWrapperID);r.appendChild(i);r.onclick=function(n){n.target.id==t.PopupWrapperID&&t.CloseWelcome(null,!1,!0,{button:"Overlay"})};document.getElementsByTagName("body")[0].appendChild(r);t.AddDynamicContent();t.Base.SetRepositioner(t.PopupReposition,t);t.Base.InvokePopupReposition(i);t.IsShown=!0;t.IsHidden=!1;GlobalE.WelcomeManager.HandleFocus();t.Base.OnWelcomeShownCallback!=null&&t.Base.FireStack(t.Base.OnWelcomeShownCallback)},200)};GlobalE.WelcomeManager.PopupReposition=function(n){var i=this.Base.IsTabletMode(),r=n.offsetWidth,t=n.offsetHeight;n.style.margin=i?"-"+t/2+"px 0 0 0":"-"+(t/2+20)+"px 0 0 -"+r/2+"px"};GlobalE.WelcomeManager.UpdateWelcome=function(n){var t=this.GetModalPopup();t.innerHTML="";t.innerHTML=n;this.AddDynamicContent()};GlobalE.WelcomeManager.IsShowWelcome=function(){if(GlobalE.WelcomeManager.IsHideForCountry)return!1;var n=this.Base.GetCookie(this.Base.GE_DATA_WELCOME_COOKIE,!0);return n==null||this.Base.IsUndefined(n.showWelcome)?!0:n.showWelcome};GlobalE.WelcomeManager.AddDynamicContent=function(){var n,t;if(this.Base.DynContent.welcome!=null)for(n=0;n<this.Base.DynContent.welcome.length;n++)t=document.getElementById(this.Base.DynContent.welcome[n].key),t&&(t.innerHTML=this.Base.DynContent.welcome[n].value)};GlobalE.WelcomeManager.CheckAndDisplayWelcome=function(){var n,t;this.IsShowWelcome()&&(this.Welcome(),n=this.Base.GetCookie(this.Base.GE_DATA_WELCOME_COOKIE,!0),n==null?n={showWelcome:!1}:n.showWelcome=!1,t=this.Base.GetCookie(this.Base.GE_DATA_COOKIE,!0),t==null?t={cultureCode:this.Base.Culture,cToken:"",coStep:1}:t.cultureCode=this.Base.Culture,this.Base.SetCookie(this.Base.GE_DATA_WELCOME_COOKIE,n,this.Base.GE_DATA_COOKIE_EXP,!0),this.Base.SetCookie(this.Base.GE_DATA_COOKIE,t,this.Base.GE_DATA_COOKIE_EXP,!0))};GlobalE.WelcomeManager.Welcome=function(){GlobalE.WelcomeManager.OnBeforeLoadScript.apply(this.Base,[]);this.Base.ShowWelcome&&(this.Base.AddStyleString("glePopup",this.WidgetsCSS+this.WelcomeCSS),this.CreateModalPopup(this.WelcomeContent),this.Base.Track(this.Base.WelcomeUrl,!0),GlobalE.MPH.Get(MPH.K.FT_IsAnalyticsSDKEnabled,MPH.T.Bool)&&GlobalE.AnalyticsSDK!==null&&typeof GlobalE.AnalyticsSDK!="undefined"&&GlobalE.AnalyticsSDK.sendBrowsingFunnelEvent("Welcome Popup Shown"))};GlobalE.WelcomeManager.CloseWelcome=function(n,t,i,r){var u,f,e;if(i=this.Base.IsUndefined(i)?!0:i,t=this.Base.IsUndefined(t)?!1:t,t?document.getElementById(this.PopupWrapperID).style.display="none":(this.CloseModalPopup(),i&&this.CloseOverlay()),this.IsShown=!1,this.Base.OnWelcomePopupClosedCallback!=null&&this.Base.OnWelcomePopupClosedCallback.length>0){u="Undefined";try{f=n.target||n.srcElement;u=f.getAttribute("data-key")!=null&&f.getAttribute("data-key")=="continueShop"?"ContinueToShop":"Close"}catch(o){}this.Base.IsUndefined(r)||(u=r.button);e=this.Base.FireStack(this.Base.OnWelcomePopupClosedCallback,{buttonClicked:u})}};GlobalE.WelcomeManager.ReadyStateChanged=function(n){n.data=="SwitherPopup"&&(document.body.style.cursor="default",GlobalE.WelcomeManager.IsShown&&GlobalE.WelcomeManager.CloseWelcome(null,!1,!1,{button:"ChangeCountry"}))};GlobalE.WelcomeManager.ShowShippingSwitcher=function(){var n=this;GlobalE.ShippingSwitcher?n.Base.CultureChanged?GlobalE.ShippingSwitcher.UpdateContent(function(){GlobalE.ShippingSwitcher.Show()}):GlobalE.ShippingSwitcher.Show():this.Base.LoadShippingSwitcher(n.Base.Country,n.Base.Culture,n.Base.Currency,!0,null)};GlobalE.WelcomeManager.NotShippingTo=function(){document.body.style.cursor="progress";var n=this;return GlobalE.AttachEvent("readystatechange",document.getElementsByTagName("body")[0],GlobalE.WelcomeManager.ReadyStateChanged),this.Base.RegisterOnBeforePopup("switcher",this.Base.Country,this.Base.Culture,this.Base.Currency,function(){n.ShowShippingSwitcher()}),n.Base.OnChangeShippingCountryClickedCallback!=null&&n.Base.FireStack(n.Base.OnChangeShippingCountryClickedCallback),!1};GlobalE.WelcomeManager.OnWindowLoad=function(){GlobalE.DBG?GlobalE.WelcomeManager.Welcome():GlobalE.WelcomeManager.CheckAndDisplayWelcome()};GlobalE.WelcomeManager.OnLanguageComboChanged=function(n,t,i){var r=this,u,f;u=i=="combo"?n.options[n.selectedIndex].getAttribute("data-culturecode"):n;t&&this.Base.RegisterOnBeforePopup("welcome",this.Base.Country,u,this.Base.Currency,function(){var n=r.UpdateWelcomeScript.format(r.Base.GEBaseURL,r.Base.MerchantID,r.Base.Country,u,r.Base.Currency);r.Base.AddScript(n)});f=this.Base.GetCookie(this.Base.GE_DATA_COOKIE,!0);f!=null&&(f.cultureCode=u,this.Base.SetCookie(this.Base.GE_DATA_COOKIE,f,this.Base.GE_DATA_COOKIE_EXP,!0));this.Base.Culture=u;this.Base.CultureChanged=!0};GlobalE.Country="US";GlobalE.Currency="USD";GlobalE.Culture="en-US";GlobalE.PopupOpacity="90";GlobalE.WindowLoaded?GlobalE.WelcomeManager.OnWindowLoad():GlobalE.AttachEvent("load",window,function(){GlobalE.WelcomeManager.OnWindowLoad()});GlobalE.WelcomeManager.Initiated=!0;GlobalE.WelcomeManager.HandleFocus=function(){var i=document.querySelector("#globale_popup"),t;i.setAttribute("tabindex","0");var n=i.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),r=n[0],u=n[n.length-1];for(t=0;t<n.length;t++)n[t].setAttribute("tabindex","0");document.addEventListener("keydown",function(n){var i=n.key==="Escape"||n.keyCode===27,t;if(i&&GlobalE.WelcomeManager.IsShown){GlobalE.WelcomeManager.CloseWelcome();return}(t=n.key==="Tab"||n.keyCode===9,t)&&(n.shiftKey?document.activeElement===r&&(u.focus(),n.preventDefault()):document.activeElement===u&&(r.focus(),n.preventDefault()))});setTimeout(function(){i.focus()},300)}