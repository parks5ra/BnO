"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2463],{51321:function(e,t,o){o.d(t,{F:function(){return i},G:function(){return n}});var n=[16,9],i={PLAY:"play",PAUSE:"pause",MUTE:"mute",UNMUTE:"unmute"}},2463:function(e,t,o){o.r(t),o.d(t,{default:function(){return _}});var n=o(90849),i=o(43350),r=o(80040),s=o(59307),a=o(48415),l=o(73667),c=o(3117),d=o(27378),u=o(60042),p=o.n(u),v=o(59742),h=o(73546),f=o(19783),m=o.n(f),g=o(20484),y=o.n(g),b=o(34869),P=o(56438),j=o(77759),w=o(95739),S=o(41408),Z=o(83030),x=o(96667),k=(0,S.iv)(["&.m-videoPlayer{position:relative;.a-observer{position:absolute;bottom:0;width:100%;}.video-js{position:inherit;.vjs-load-progress,.vjs-loading-spinner,.vjs-volume-panel,.vjs-current-time,.vjs-remaining-time,.vjs-time-tooltip::before{display:none;}.vjs-tech{transition:opacity "," ease-in-out;margin-top:0 !important;object-fit:cover;position:absolute;top:0;left:0;width:100%;height:100%;}.vjs-poster{display:inline-block;vertical-align:middle;background-repeat:no-repeat;background-position:50% 50%;background-size:cover;background-color:",";cursor:pointer;margin:0;padding:0;position:absolute;inset:0;height:100%;}.vjs-control-bar{padding:0;justify-content:space-between;height:40px;background:",";}.vjs-icon-placeholder::before,.vjs-play-control .vjs-icon-placeholder::before{line-height:",";}.vjs-big-play-button{width:32px;height:32px;border:none;background:none;top:50%;left:50%;transform:translateX(-50%) translateY(-50%);font-size:",";line-height:1.5em;position:absolute;padding:0;cursor:pointer;opacity:1;border-radius:0.3em;transition:all 0.4s;@media ","{width:45px;height:45px;}.vjs-icon-placeholder{width:32px;height:32px;@media ","{width:45px;height:45px;}}.vjs-icon-placeholder::before{content:'';width:32px;height:32px;background:url('/static-assets/images/common/video-play-without-border.svg') no-repeat;background-size:cover;position:absolute;top:0;left:0;text-align:center;background-color:",";border-radius:50%;@media ","{width:45px;height:45px;}}.vjs-control-text{border:0;clip:rect(0);height:1px;overflow:hidden;padding:0;position:absolute;width:1px;visibility:hidden;font-size:",";}}.vjs-play-control,.vjs-fullscreen-control{position:relative;width:70px;height:40px;&::before,&::after{content:'';position:absolute;display:block;width:1px;height:8px;background:",";opacity:0.8;right:0;}&::before{top:0;}&::after{bottom:0;}.vjs-icon-placeholder::before{line-height:",";}}.vjs-play-control{&::before,&::after{right:0;}.vjs-icon-placeholder::before{content:'';background:url(\"/static-assets/images/common/video-control-pause.svg\") center center no-repeat;background-size:16px 16px;}&.vjs-paused{.vjs-icon-placeholder::before{content:'';background:url(\"/static-assets/images/common/video-control-play.svg\") center center no-repeat;background-size:16px 16px;}}}.vjs-fullscreen-control{&::before,&::after{left:0;}.vjs-icon-placeholder::before{content:'';background:url(\"/static-assets/images/common/video-enter-fullscreen.svg\") center center no-repeat;background-size:16px 16px;}}.vjs-progress-control{position:absolute;width:100%;height:3px;top:-3px;left:0;}.vjs-seek-to-live-control{display:none;}.vjs-progress-holder{margin:0;background:none;}.vjs-play-progress{background:",";}&.vjs-paused{.vjs-big-play-button{display:block;}@media ","{.vjs-tech{opacity:0.7;}}}&.vjs-waiting,&.vjs-controls-disabled{.vjs-poster,.vjs-big-play-button{display:none;}}&.vjs-controls-disabled{.vjs-big-play-button{display:none;}}&.vjs-fullscreen{.vjs-fullscreen-control{.vjs-icon-placeholder::before{content:'';background:url(\"/static-assets/images/common/video-leave-fullscreen.svg\") center center no-repeat;background-size:16px 16px;}}}video::-internal-media-controls-overlay-cast-button{display:none;}}&.-contain{display:flex;flex:1;height:100%;.video-js{width:100%;height:100%;background-color:transparent;}}&.-overlay{.video-js{.vjs-tech{opacity:0.7;}}}&.-hideControls{.vjs-control-bar{visibility:hidden;}}&.-hideFullScreenBtn{.vjs-control-bar{.vjs-fullscreen-control{visibility:hidden;}}}&.-cover{position:absolute;width:100%;height:100%;top:0;left:0;overflow:hidden;> div[data-vjs-player]{height:100%;width:100%;}.video-js{",";&.vjs-waiting{.vjs-tech{opacity:0;}}&.vjs-paused{.vjs-tech{@media ","{opacity:0.7;}}}&.vjs-playing{.vjs-tech{opacity:1;}}video{display:inline-block;",";}}&.-wide{.video-js{.vjs-poster{height:20%;top:40%;}}}}&.-responsive{height:auto;display:block;position:relative;overflow:hidden;&::before{content:'';",";display:block;height:100%;width:100%;}.video-js{position:absolute;top:-1px;left:-1px;width:calc(100% + 2px);height:calc(100% + 2px);}}&.-square{height:auto;display:block;position:relative;overflow:hidden;&::before{content:'';",";display:block;height:100%;width:100%;}.video-js{position:absolute;top:-1px;left:-1px;width:calc(100% + 2px);height:calc(100% + 2px);}}&.-youtube{.video-js{&.vjs-waiting{.vjs-poster,.vjs-big-play-button{display:none;}}}}}"],(function(e){return e.theme.duration.normal}),(function(e){return e.theme.colors.BEO_BLACK}),(function(e){return(0,Z.m4)(e.theme.colors.BEO_BLACK,.8)}),(function(e){return(0,Z.hO)(e.theme.fonts.lineHeight.custom.custom_21)}),(function(e){return(0,Z.hO)(e.theme.fonts.fontSize.heading.large.h1)}),(function(e){return e.theme.mediaQuery.medium}),(function(e){return e.theme.mediaQuery.medium}),(function(e){return e.theme.colors.BEO_YELLOW}),(function(e){return e.theme.mediaQuery.medium}),(function(e){return(0,Z.hO)(e.theme.fonts.fontSize.body.custom.custom_6)}),(function(e){return e.theme.colors.GREY5}),(function(e){return(0,Z.hO)(e.theme.fonts.lineHeight.custom.custom_21)}),(function(e){return e.theme.colors.RED}),(function(e){return e.theme.mediaQuery.smallMax}),x.Z.objectFit(),(function(e){return e.theme.mediaQuery.smallMax}),x.Z.objectFit(),x.Z.maintainRatio(9,16),x.Z.maintainRatio(1,1)),O=o(21318),N=o(50813),L=o(51321),E=o(41605),V=o(6234),I=o(48787),C=o(24246);function R(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function U(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?R(Object(o),!0).forEach((function(t){(0,n.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):R(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function z(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=(0,c.Z)(e);if(t){var i=(0,c.Z)(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return(0,l.Z)(this,o)}}var B=function(e){(0,a.Z)(o,e);var t=z(o);function o(e){var r;return(0,i.Z)(this,o),r=t.call(this,e),(0,n.Z)((0,s.Z)(r),"showPauseButtonOnLoad",(function(){if(!r.state.isVideoPlaying){var e=r.props.setPlayPauseState;e&&e(!0),r.setState({isVideoPausedByLowPower:!0,isPlaying:!1})}})),(0,n.Z)((0,s.Z)(r),"setStateForVideoPlaying",(function(){var e=r.props.setPlayPauseState;e&&e(!1),r.setState({isPlaying:!0,isVideoPausedByLowPower:!1,isVideoPlaying:!0})})),(0,n.Z)((0,s.Z)(r),"handleLoad",(function(){r.state.pageLoad||r.setState({pageLoad:!0})})),(0,n.Z)((0,s.Z)(r),"onScroll",(function(){var e=window.pageYOffset,t=r.container&&r.container.current;e>(t&&t.offsetTop)+(t&&t.offsetHeight)&&(r.videoNode&&r.videoNode.current&&r.videoNode.current.pause(),r.removeScrollListener())})),(0,n.Z)((0,s.Z)(r),"onResize",(function(){var e=r.container.current&&r.container.current.parentNode,t=e&&e.offsetWidth/e.offsetHeight,o=Boolean(t&&t>r.getVideoRatio());r.setState({isUltraWideScreen:o}),r.setVideoSources()})),(0,n.Z)((0,s.Z)(r),"onReady",(function(){var e=r.props.onReady;e&&e(),r.setState({isReady:!0})})),(0,n.Z)((0,s.Z)(r),"onPlaying",(function(){var e=r.props,t=e.onPlaying,o=e.pauseOnScroll,n=e.trackVideo,i=e.showControlsAndPlayButtons,s=e.setPlayPauseState;o&&r.addScrollListener(),t&&t(),i&&s&&s(!1),n&&r.trackVideoPlayer(N.F$d.PLAY)})),(0,n.Z)((0,s.Z)(r),"onEnded",(function(){var e=r.props,t=e.onEnded,o=e.pauseOnScroll,n=e.trackVideo;o&&r.removeScrollListener(),t&&t(),r.videoTimeProgress=[],n&&r.trackVideoPlayer(N.F$d.COMPLETED)})),(0,n.Z)((0,s.Z)(r),"onPause",(function(){var e=r.props,t=e.trackVideo,o=e.showControlsAndPlayButtons,n=e.setPlayPauseState,i=r.videoNode.current,s=(null===i||void 0===i?void 0:i.currentTime)===(null===i||void 0===i?void 0:i.duration);t&&!s&&(r.trackVideoPlayer(N.F$d.PAUSE),o&&n&&n(!0))})),(0,n.Z)((0,s.Z)(r),"startVideo",(function(e){r.setState({showPoster:!1});var t=r.props,o=t.setPlayPauseState,n=t.setDisplayInitialButton;t.isRichMediaVideoOnCategoryPageProductCardCarousel&&e.preventDefault(),r.videoNode&&r.videoNode.current&&(r.videoNode.current.play(),r.muteUnmuteOnClick(),o&&o(),n&&n(!0))})),(0,n.Z)((0,s.Z)(r),"onTimeUpdate",(function(){var e=r.props.trackVideo,t=(0,s.Z)(r).videoTimeProgress,o=r.videoNode.current;if(e&&o){var n=Math.ceil(o.currentTime/o.duration*100);if((n===N.dNl.TWENTYFIVE||n===N.dNl.FIFTY||n===N.dNl.SEVENTYFIVE)&&!t.includes(n)){t.push(n);var i="".concat(n,"% ").concat(N.F$d.COMPLETED);r.trackVideoPlayer(i)}}})),(0,n.Z)((0,s.Z)(r),"getFullScreen",(function(){var e=r.container&&r.container.current&&r.container.current.getElementsByClassName("vjs-fullscreen-control")&&r.container.current.getElementsByClassName("vjs-fullscreen-control")[0];e&&e.addEventListener("click",(function(){r.setState((function(e){return{fullScreen:!e.fullScreen}}))}));var t=r.container&&r.container.current&&r.container.current.getElementsByClassName("vjs-resize-manager")&&r.container.current.getElementsByClassName("vjs-resize-manager")[0];t&&(t.setAttribute("tabIndex",E.JSk),t.setAttribute("title",E.m69))})),(0,n.Z)((0,s.Z)(r),"getVideoRatio",(function(){var e=r.props.ratio||L.G;return e[0]/e[1]})),(0,n.Z)((0,s.Z)(r),"getSources",(function(e){var t=[],o=r.props.viewportInfo;if(e){var n;if((e.get("mobileAssetUrl")||e.get("tabletAssetUrl"))&&o){var i=o.get("isSmallerThan");n=i.get("small")?e.get("mobileAssetUrl"):i.get("medium")&&e.get("tabletAssetUrl")||e.get("defaultAssetUrl")}else n=e.get("defaultAssetUrl");var s={defaultSrc:n,webmSrc:e.get("webmUrl")};s.defaultSrc&&t.push({src:s.defaultSrc,type:"video/mp4"}),s.webmSrc&&t.push({src:s.webmSrc,type:"video/webm"})}return t})),(0,n.Z)((0,s.Z)(r),"trackVideoPlayer",(function(e){var t=r.props,o=t.videoTitle,n=t.mediaItem,i=n&&n.getIn(["media","altText"]),s={eventName:N.XPM,section:N.pXW,subSection:e,selection:o||i};(0,O.Cm)(s)})),(0,n.Z)((0,s.Z)(r),"addScrollListener",(function(){window.addEventListener("scroll",m()(r.onScroll,100),{capture:!1,passive:!0})})),(0,n.Z)((0,s.Z)(r),"removeScrollListener",(function(){window.removeEventListener("scroll",m()(r.onScroll,100),{capture:!1,passive:!0})})),(0,n.Z)((0,s.Z)(r),"addResizeListener",(function(){window.addEventListener("resize",m()(r.onResize,20))})),(0,n.Z)((0,s.Z)(r),"removeResizeListener",(function(){window.removeEventListener("resize",m()(r.onResize,20))})),(0,n.Z)((0,s.Z)(r),"container",(0,d.createRef)()),(0,n.Z)((0,s.Z)(r),"videoNode",(0,d.createRef)()),(0,n.Z)((0,s.Z)(r),"videoTimeProgress",[]),(0,n.Z)((0,s.Z)(r),"playPauseA11yOnClick",(function(){var e=r.props.setPlayPauseState,t=r.state.isVideoPausedByLowPower;r.state.isPlaying&&!t?r.videoNode.current&&(r.videoNode.current.pause(),r.setState((function(e){return{showPoster:!1,isPlaying:!e.isPlaying}})),e(!0)):r.videoNode.current&&(e(!1),r.videoNode.current.play(),r.setState((function(e){return{showPoster:!1,isPlaying:!e.isPlaying,isVideoPausedByLowPower:!1}})))})),(0,n.Z)((0,s.Z)(r),"lazyLoadPosterImage",(function(){r.handleLoad();var e=r.buildPosterImageSrc(),t=(0,s.Z)(r).videoNode,o=t&&t.current&&t.current.nextSibling;o&&e&&(o.style="background-image: url(".concat(e,");"),o.classList.remove("vjs-hidden"))})),(0,n.Z)((0,s.Z)(r),"buildPosterImageSrc",(function(){var e=r.props,t=e.mediaItem,o=e.ratio,n=e.connectionSpeed,i=e.isWebpSupported,s=t&&t.getIn(["media","posterImageAssetUrl"]),a={connectionSpeed:n,isWebpSupported:i,ratio:o,src:s,size:j.Cg,fit:j.kR};return s&&(0,P.PE)(a)})),(0,n.Z)((0,s.Z)(r),"renderPoster",(function(){var e=r.props.autoplay,t=r.state.showPoster;return r.buildPosterImageSrc()&&!e&&t?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("div",{className:"vjs-poster"}),(0,C.jsxs)("button",{className:"vjs-big-play-button",type:"button",title:"Play Video","aria-disabled":"false",onClick:function(e){return r.startVideo(e)},children:[(0,C.jsx)("span",{"aria-hidden":"true",className:"vjs-icon-placeholder"}),(0,C.jsx)("span",{className:"vjs-control-text","aria-live":"polite",children:"Play Video"})]})]}):null})),(0,n.Z)((0,s.Z)(r),"muteUnmuteOnClick",(function(){var e=r.props.setMuteUnmuteState;r.state.isMute?r.videoNode.current&&(r.videoNode.current.muted=!1,e(!0),r.setState({isMute:!1})):r.videoNode.current&&(e(!1),r.videoNode.current.muted=!0,r.setState({isMute:!0}))})),r.state={isUltraWideScreen:!0,isReady:!1,fullScreen:!1,showPoster:!0,sources:[],pageLoad:!1,isPlaying:!!r.props.autoplay,isMute:!!r.props.autoplay||!!r.props.muted,isVideoPausedByLowPower:!1,isVideoPlaying:!1},r}return(0,r.Z)(o,[{key:"componentDidMount",value:function(){var e;y()(),this.onResize(),this.addResizeListener(),this.initialisePlayer();var t=null===this||void 0===this||null===(e=this.videoNode)||void 0===e?void 0:e.current,o=this.props.mediaItem,n=null===o||void 0===o?void 0:o.getIn(["media","hideVideoDownload"]);t&&n&&t.setAttribute("oncontextmenu","return false;"),t&&(0,I.Fo)()&&(t.addEventListener("suspend",this.showPauseButtonOnLoad),t.addEventListener("play",this.setStateForVideoPlaying))}},{key:"componentWillUnmount",value:function(){var e;this.removeResizeListener(),this.removeScrollListener();var t=null===this||void 0===this||null===(e=this.videoNode)||void 0===e?void 0:e.current;t&&(0,I.Fo)()&&(t.removeEventListener("suspend",this.showPauseButtonOnLoad),t.removeEventListener("play",this.setStateForVideoPlaying))}},{key:"componentDidUpdate",value:function(e){!e.viewportInfo&&this.props.viewportInfo&&this.initialisePlayer()}},{key:"setVideoSources",value:function(){var e=this.props.mediaItem;if(this.container.current&&e){var t=e.get("media");this.setState({sources:this.getSources(t)})}}},{key:"initialisePlayer",value:function(){var e=this.props,t=e.mediaItem,o=e.setPlayPauseOptions,n=e.setPlayPauseState,i=e.setMuteUnmuteOptions,r=e.setMuteUnmuteState;if(t){this.setVideoSources();var s=this.onReady;this.videoNode.current&&(s(),o&&o(this.playPauseA11yOnClick),n&&n(!1),n&&!this.props.autoplay&&n(!0),i&&i(this.muteUnmuteOnClick),r&&!this.props.autoplay&&r(!1))}}},{key:"render",value:function(){var e=this,t=this.props,o=t.className,n=t.inheritedClass,i=t.cover,r=t.responsive,s=t.mediaItem,a=t.overlay,l=t.loop,c=t.controls,d=t.autoplay,u=t.hideControls,h=t.setPlayPauseOptions,f=t.disableFullScreenVideo,m=t.setMuteUnmuteOptions,g=t.videoInlineStyles,y=this.state,b=y.isReady,P=y.isUltraWideScreen,j=y.sources,S=y.showPoster,Z=y.pageLoad;if(!s||!s.get("media"))return null;var x=s.get("mediaType"),k=x&&"externalVideo"===x,O=s.getIn(["media","hideVideoDownload"])?{controlsList:"nodownload"}:null,N=p()(o,n,"m-videoPlayer",{"-responsive":r,"-cover":i,"-contain":!i,"-wide":i&&P,"-ready":b,"-youtube":k,"-overlay":a,"-hideControls":u,"-hideFullScreenBtn":f});return this.videoNode.current&&h&&h(this.playPauseA11yOnClick),this.videoNode.current&&m&&m(this.muteUnmuteOnClick),(0,C.jsx)("div",{ref:this.container,className:N,children:(0,C.jsx)(w.Z,{onIntersectionEnter:function(){return e.lazyLoadPosterImage()},rootMargin:"200px 0px",children:(0,C.jsx)(v.ZP,{disabled:!this.state.fullScreen,children:(0,C.jsxs)("div",{className:"video-js",children:[(0,C.jsx)("video",U(U({autoPlay:d,playsInline:d,muted:this.state.isMute,loop:l,controls:c,onEnded:this.onEnded,onPlaying:this.onPlaying,ref:this.videoNode,onTimeUpdate:this.onTimeUpdate,onPause:this.onPause,className:"vjs-tech",tabIndex:S?"-1":null,preload:d?"auto":"none",style:g},O),{},{children:Z&&j.map((function(e){return(0,C.jsx)("source",U({},e),e.type)}))})),this.renderPoster()]})})})})}}]),o}(d.PureComponent);B.displayName="VideoPlayer",B.defaultProps={inheritedClass:"",ratio:[16,9],controls:!0,autoplay:!1,muted:!1,loop:!1,responsive:!1,cover:!1,pauseOnScroll:!1,trackVideo:!0,overlay:!1,hideControls:!1};var T=(0,V.Z)(B),A=(0,b.Z)(T,k),F=(0,h.connect)((function(e){return{isWebpSupported:e.getIn(["global","globalData","deviceInfo","featureSupport","webp"]),connectionSpeed:e.getIn(["global","globalData","deviceInfo","connectionSpeed"]),viewportInfo:e.getIn(["global","globalData","viewportInfo"])}}),null)(A),D=o(59707);function M(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function W(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?M(Object(o),!0).forEach((function(t){(0,n.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):M(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var _=function(e){var t=e.mediaItem.get("mediaType"),n=t&&"externalVideo"===t,i=e.mediaItem&&e.mediaItem.getIn(["media","vendor"]),r=n&&"vimeo"===i;if(n&&!r){var s=(0,D.Z)({loader:function(){return o.e(4830).then(o.bind(o,44830))},ssr:!1,loading:function(){return""}});return(0,C.jsx)(s,W({},e))}if(r){var a=(0,D.Z)({loader:function(){return Promise.all([o.e(3539),o.e(5606)]).then(o.bind(o,35606))},ssr:!1,loading:function(){return""}});return(0,C.jsx)(a,W({},e))}return(0,C.jsx)(F,W({},e))}},59707:function(e,t,o){var n=o(90089),i=o(65218),r=o.n(i),s=["loader"];t.Z=function(e){var t=e.loader,o=(0,n.Z)(e,s);return r()(t,o)}}}]);